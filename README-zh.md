# n8n-nodes-alicloud

[![English](https://img.shields.io/badge/English-Click-yellow)](README.md)
[![中文文档](https://img.shields.io/badge/中文文档-点击查看-orange)](README-zh.md)

这是一个n8n社区节点，让您可以在n8n工作流中使用阿里云的各种服务，包括智能语音服务、对象存储服务(OSS)和弹性计算服务(ECS)等。

本节点支持以下阿里云服务：
- **智能语音服务**: 提供语音识别和语音合成能力，支持多种音频格式的文件转录和文本转语音
- **语音合成服务**: 将文本转换为自然语音，支持多种音色、音频格式和参数调节
- **对象存储服务(OSS)**: 支持文件上传、下载、列表、删除等操作
- **OSS签名URL**: 生成临时访问链接，支持多种HTTP方法和自定义参数
- **弹性计算服务(ECS)**: 管理云服务器实例

通过这个节点，您可以轻松将阿里云的各种服务集成到您的自动化工作流中。

[n8n](https://n8n.io/) 是一个[公平代码许可](https://docs.n8n.io/reference/license/)的工作流自动化平台。

[安装](#安装)  
[操作](#操作)  
[凭据](#凭据)  
[兼容性](#兼容性)  
[使用说明](#使用说明)  
[资源](#资源)  
[版本历史](#版本历史)  

## 安装

按照n8n社区节点文档中的[安装指南](https://docs.n8n.io/integrations/community-nodes/installation/)进行安装。

另外，你也可以参考使用这些[n8n工作流模板](https://github.com/crazyyanchao/n8n-workflow-template)。

## 操作

此节点支持以下资源类型和操作：

### 文件转录服务
- **文件转录（完整工作流）**: 自动处理任务提交和结果轮询的完整流程
- **仅提交任务**: 只提交转录任务，不等待结果
- **仅查询结果**: 查询已提交任务的转录结果

### 语音合成服务
- **语音合成**: 将文本转换为自然语音，支持多种音色和音频格式
  - 支持多种音频格式：PCM、WAV、MP3
  - 多种音色选择（如小云等）
  - 可调节音量、语速、音调等参数
  - 支持字幕时间戳功能
  - 多种输出格式：二进制数据、Base64编码、音频文件等

### 对象存储服务 (OSS)
- **上传文件**: 将文件上传到OSS存储桶
- **下载文件**: 从OSS存储桶下载文件
- **列出对象**: 列出存储桶中的对象
- **删除对象**: 从存储桶中删除指定对象

### OSS 签名URL
- **生成签名URL**: 为OSS对象生成临时访问链接

### 弹性计算服务 (ECS)
- **查询实例**: 查询ECS实例信息

## 凭据

要使用此节点，您需要：

1. **注册阿里云账户**: 访问 [阿里云官网](https://www.aliyun.com/) 注册账户
2. **开通相关服务**: 根据使用需求开通以下服务：
   - **智能语音服务**: 用于文件转录和语音合成功能
   - **对象存储服务(OSS)**: 用于文件存储和管理
   - **弹性计算服务(ECS)**: 用于云服务器管理
3. **获取访问密钥**: 在RAM控制台创建AccessKey ID和AccessKey Secret
4. **获取AppKey**: 在智能语音服务控制台获取项目AppKey（文件转录和语音合成需要）
5. **配置权限**: 确保AccessKey具有相应服务的操作权限
6. **配置凭据**: 在n8n中配置阿里云凭据

### 认证方法
- **AccessKey认证**: 使用阿里云AccessKey ID和Secret进行API调用（OSS、ECS、文件转录、语音合成）
- **AppKey认证**: 使用智能语音服务项目的AppKey（文件转录和语音合成需要）

## 兼容性

- **最低n8n版本**: 1.0.0
- **Node.js版本**: >=22.16
- **测试版本**: n8n 1.0.0+

## 资源

* [n8n社区节点文档](https://docs.n8n.io/integrations/#community-nodes)
* [阿里云智能语音服务文档](https://help.aliyun.com/product/30413.html)
* [阿里云文件转录API参考](https://help.aliyun.com/document_detail/90727.html)
* [阿里云对象存储服务(OSS)文档](https://help.aliyun.com/product/31815.html)
* [阿里云OSS API参考](https://help.aliyun.com/document_detail/31947.html)
* [阿里云弹性计算服务(ECS)文档](https://help.aliyun.com/product/25365.html)
* [阿里云ECS API参考](https://help.aliyun.com/document_detail/25484.html)

## 版本历史

### v0.2.18 (当前版本)
- **新增语音合成服务支持**
  - 文本转语音功能，支持多种音色选择
  - 支持多种音频格式：PCM、WAV、MP3
  - 丰富的参数调节：音量、语速、音调控制
  - 支持字幕时间戳功能
  - 多种输出格式：二进制数据、Base64编码、音频文件等
  - 自动访问令牌生成和管理
  - 完整的错误处理和日志记录

### v0.2.0
- **新增OSS对象存储服务支持**
  - 文件上传功能
  - 文件下载功能
  - 对象列表查询功能
  - 对象删除功能
- **新增OSS签名URL生成功能**
  - 支持多种HTTP方法（GET、POST、PUT、DELETE）
  - 可配置过期时间
  - 支持自定义请求头和查询参数
  - 生成内部和外部访问URL
- **新增ECS弹性计算服务支持**
  - 实例信息查询功能
- **优化节点架构**
  - 采用模块化资源管理
  - 统一的错误处理机制
  - 更好的代码组织结构

### v0.1.0
- 初始版本发布
- 支持完整的文件转录工作流
- 支持单独提交任务和查询结果
- 基于官方阿里云SDK实现
- 自动轮询机制
- 完整的错误处理

---

**注意**: 使用此节点需要有效的阿里云账户和相应服务的权限。请确保遵守阿里云的使用条款和API调用限制。不同功能需要不同的服务权限，请根据实际使用情况配置相应的访问权限。
